<!DOCTYPE html>
<html lang='en'>
<head>
	<meta http-equiv="Content-type" content="text/html; charset=utf-8">
	<title>Dialog Widget Tests</title>


    <style type="text/css">
        @import "dojo/dijit/themes/claro/document.css";
        @import "dojo/dijit/tests/css/dijitTests.css";
        @import "dojo/dijit/themes/claro/claro.css";
        @import "dojo/dojox/mobile/themes/common/dijit/dijit.css";
    </style>

	<style type="text/css">
		form { margin-bottom : 0; }
		table { border: none; }
		#dialog3_underlay { background-color: #027 }
		#fifthDlg_underlay { background-color: yellow; }
	</style>

        <script type="text/javascript" src="dojo/dojo/dojo.js"></script>

	<script type="text/javascript">
		require([
			"dojo/_base/lang",
			"dojo/date/stamp",
			"dojo/dom",
			"dojo/parser",
			"dijit/registry",
			"dijit/Dialog",

			// used by parser
			"dijit/Editor",
			"dijit/_editor/plugins/AlwaysShowToolbar",
			"dijit/InlineEditBox",
			"dijit/Menu",
			"dijit/MenuItem",
			"dijit/MenuSeparator",
			"dijit/form/Button",
			"dijit/form/TextBox",
			"dijit/form/DateTextBox",
			"dijit/form/TimeTextBox",
			"dijit/form/FilteringSelect",
			"dijit/layout/BorderContainer",
			"dijit/layout/ContentPane",
			"dijit/layout/TabContainer",

			"dojo/domReady!"
		], function(lang, stamp, dom, parser, registry, Dialog){

			var thirdDlg;
			createDialog = function(){
				if(!thirdDlg){
					var pane = dom.byId('thirdDialog');
					// should specify a width on dialogs with <p> tags, otherwise they get too wide
					thirdDlg = new dijit.Dialog({
						id: "dialog3",
						title: "Programmatic Dialog Creation",
						style: {width: '300px'}
					},pane);
				}
				setTimeout(function(){ thirdDlg.show(); },"3000");
			};

			open2Dialogs = function (){
				registry.byId('dialog1').show();
				setTimeout(lang.hitch(registry.byId('fifthDlg'), 'show'), 1000);
			};

			showSelfDestructDlg = function(){
				//for testing #12436
				var dlg = new Dialog({
					id: 'SelfDestructDlg',
					title: 'Self-Destruct Dialog',
					content: 'This dialog will destroy itself onHide.<br/><input type="text" id="SelfDestructDlgInput" />',
					onHide: function(){
						// Use setTimeout() to avoid memory leak warning for sIEve
						setTimeout(function(){
							dlg.destroyRecursive();
						}, 0);
					}
				});
				dlg.show();
			};

			parser.parse();
		});
	</script>
</head>
<body class="claro" role="main">

	<script type="dojo/require">
		dom: "dojo/dom",
		registry: "dijit/registry"
	</script>


	<button data-dojo-type="dijit/form/Button" data-dojo-props='onClick:function(){ createDialog(); }, title:"shows after 3 second delay, with blue background"'>Programatic Dialog (3 second delay)</button>


	<div id="thirdDialog" style="display: none;">
		<form>
		<input>
		<br>
		<button>hello</button>
		<br><label for="select3">select label</label>
		<select id="select3">
			<option>Lorem</option>
			<option>ipsum</option>
			<option>dolor</option>
			<option>sit</option>
			<option>amet</option>
		</select>
		</form>
		<p>
		Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean
		semper sagittis velit. Cras in mi. Duis porta mauris ut ligula. Proin
		porta rutrum lacus. Etiam consequat scelerisque quam. Nulla facilisi.
		Maecenas luctus venenatis nulla. In sit amet dui non mi semper iaculis.
		Sed molestie tortor at ipsum. Morbi dictum rutrum magna. Sed vitae
		risus.
		</p>
	</div>
</body>
</html>
