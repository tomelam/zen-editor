<!DOCTYPE html>
<html lang='en'>
<head>
	<meta http-equiv="Content-type" content="text/html; charset=utf-8">
	<title>Dialog Widget Tests</title>

    <style type="text/css">
        @import "dojo/dijit/themes/claro/document.css";
        @import "dojo/dijit/tests/css/dijitTests.css";
        @import "dojo/dijit/themes/claro/claro.css";
        @import "dojo/dojox/mobile/themes/common/dijit/dijit.css";
    </style>

	<style type="text/css">
		form { margin-bottom : 0; }
		table { border: none; }
		#dialog3_underlay { background-color: #027 }
		#fifthDlg_underlay { background-color: yellow; }
	</style>

        <script type="text/javascript" src="dojo/dojo/dojo.js"></script>

	<script type="text/javascript">
		require([
			"dojo/_base/lang",
			"dojo/date/stamp",
			"dojo/dom",
			"dojo/parser",
			"dijit/registry",
			"dijit/Dialog",

			// used by parser
			"dijit/Editor",
			"dijit/_editor/plugins/AlwaysShowToolbar",
			"dijit/InlineEditBox",
			"dijit/Menu",
			"dijit/MenuItem",
			"dijit/MenuSeparator",
			"dijit/form/Button",
			"dijit/form/TextBox",
			"dijit/form/DateTextBox",
			"dijit/form/TimeTextBox",
			"dijit/form/FilteringSelect",
			"dijit/layout/BorderContainer",
			"dijit/layout/ContentPane",
			"dijit/layout/TabContainer",

			"dojo/domReady!"
		], function(lang, stamp, dom, parser, registry, Dialog){

			var thirdDlg;
			createDialog = function(){
				if(!thirdDlg){
					var pane = dom.byId('thirdDialog');
					// should specify a width on dialogs with <p> tags, otherwise they get too wide
					thirdDlg = new dijit.Dialog({
						id: "dialog3",
						title: "Programmatic Dialog Creation",
						style: {width: '300px'}
					},pane);
				}
				setTimeout(function(){ thirdDlg.show(); },"3000");
			};

			open2Dialogs = function (){
				registry.byId('dialog1').show();
				setTimeout(lang.hitch(registry.byId('fifthDlg'), 'show'), 1000);
			};

			showSelfDestructDlg = function(){
				//for testing #12436
				var dlg = new Dialog({
					id: 'SelfDestructDlg',
					title: 'Self-Destruct Dialog',
					content: 'This dialog will destroy itself onHide.<br/><input type="text" id="SelfDestructDlgInput" />',
					onHide: function(){
						// Use setTimeout() to avoid memory leak warning for sIEve
						setTimeout(function(){
							dlg.destroyRecursive();
						}, 0);
					}
				});
				dlg.show();
			};

			parser.parse();
		});
	</script>
</head>
<body class="claro" role="main">

	<script type="dojo/require">
		dom: "dojo/dom",
		registry: "dijit/registry"
	</script>

	<button id="dialog1button" data-dojo-type="dijit/form/Button"  data-dojo-props='onClick:function(){ registry.byId("dialog1").show() }'>Show Dialog</button>

	<div id="dialog1" data-dojo-type="dijit/Dialog" data-dojo-props='title:"First Dialog",
			"aria-describedby":"intro",
			onFocus:function(){ console.log("user focus handler") },
			onBlur:function(){ console.log("user blur handler") },
			execute:function(args){ console.log("submitted w/args: ", args); }'>
		<div id="intro" style="width:30em;">Introductory information spoken by screen reader if aria-describedby is
		added to the declaration of dialog above with value equal to the id of the container element for this text. This technique
		will work in Dojo 1.4. </div>
		<table style="position:relative;" role="presentation">
			<tr>
				<td><label for="name">Name: </label></td>
				<td><input id="name" data-dojo-type="dijit/form/TextBox" data-dojo-props='type:"text", name:"name" '/></td>
			</tr>
			<tr>
				<td><label for="loc">Location: </label></td>
				<td><input id="loc" data-dojo-type="dijit/form/TextBox" data-dojo-props='type:"text", name:"loc" '/></td>
			</tr>
			<tr>
				<td><label for="date">Date: </label></td>
				<td><input id="date" data-dojo-type="dijit/form/DateTextBox" data-dojo-props='type:"text", name:"date" '/></td>
			</tr>
			<tr>
				<td><label>Time: </label></td>
				<td><div id="time" data-dojo-type="dijit/InlineEditBox" data-dojo-props='editor:"dijit/form/TimeTextBox", editorParams:{type:"text", name:"time"}, width:"100px", style:"width:100px;"'></div></td>
			</tr>
			<tr>
				<td><label for="desc">Description: </label></td>
				<td><input id="desc" data-dojo-type="dijit/form/TextBox" data-dojo-props='type:"text", name:"desc" '/></td>
			</tr>
			<tr>
				<td colspan="2" style="text-align:center;">
					<button id="ok" data-dojo-type="dijit/form/Button" type="submit">OK</button></td>
			</tr>
		</table>
	</div>

</body>
</html>
